Test Plan:

1. Case 1: Không dùng MQ (DB quá tải)
- Chạy server không bật MQ (USE_MQ=false trong .env hoặc sửa code tạm)
- Dùng JMeter setup:
  - Thread Group: 1000 users, ramp-up 1s.
  - HTTP Request: POST http://localhost:4000/buy-no-mq
  - Body: { "userId": "user_${__Random(1,10000)}" }
- Mong đợi: 
  - DB MongoDB chịu tải cao, có thể time-out nếu số lượng request cực lớn.
  - Số lượng stock giảm chính xác về 0, không bị âm (nhờ atomic update $inc).
  - Tuy nhiên response time sẽ tăng cao dần.

2. Case 2: Có dùng MQ (Giải quyết bottle-neck)
- Bật USE_MQ=true
- Dùng JMeter setup tương tự, nhưng gọi POST http://localhost:4000/buy-with-mq
- Mong đợi:
  - Response time cực nhanh (vì chỉ đẩy vào queue rồi return ngay).
  - Server Worker sẽ từ từ tiêu thụ queue và update DB.
  - DB không bị shock tải.
